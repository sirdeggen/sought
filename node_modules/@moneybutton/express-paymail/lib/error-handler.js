"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.errorHandler = void 0;

var _PaymailError = require("./errors/PaymailError");

var _httpStatusCodes = _interopRequireDefault(require("http-status-codes"));

var errorHandler = function errorHandler(err, req, res, next) {
  if (err instanceof _PaymailError.PaymailError) {
    res.status(err.status);
    res.send({
      code: err.code,
      message: err.message
    });
  } else {
    res.status(_httpStatusCodes["default"].INTERNAL_SERVER_ERROR);
    res.send({
      code: 'internal-server-error',
      message: 'Something went wrong. Please try again later'
    });
  }
};

exports.errorHandler = errorHandler;